{"version":3,"sources":["/Users/firefly/git/pianotype/pianotype/src lazy","/Users/firefly/git/pianotype/pianotype/src/app/app.component.css","/Users/firefly/git/pianotype/pianotype/src/app/app.component.html","/Users/firefly/git/pianotype/pianotype/src/app/app.component.ts","/Users/firefly/git/pianotype/pianotype/src/app/app.module.ts","/Users/firefly/git/pianotype/pianotype/src/app/datamodels/single-note.ts","/Users/firefly/git/pianotype/pianotype/src/app/datamodels/xml-song.ts","/Users/firefly/git/pianotype/pianotype/src/app/services/load-music-xml.service.ts","/Users/firefly/git/pianotype/pianotype/src/app/services/playnotes.service.ts","/Users/firefly/git/pianotype/pianotype/src/app/shared/custom-event-handler.ts","/Users/firefly/git/pianotype/pianotype/src/app/song-text-display/song-text-display.component.css","/Users/firefly/git/pianotype/pianotype/src/app/song-text-display/song-text-display.component.html","/Users/firefly/git/pianotype/pianotype/src/app/song-text-display/song-text-display.component.ts","/Users/firefly/git/pianotype/pianotype/src/environments/environment.ts","/Users/firefly/git/pianotype/pianotype/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\treturn new Promise(function(resolve, reject) { reject(new Error(\"Cannot find module '\" + req + \"'.\")); });\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/firefly/git/pianotype/pianotype/src lazy\n// module id = ../../../../../src lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/firefly/git/pianotype/pianotype/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<app-song-text-display></app-song-text-display>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/firefly/git/pianotype/pianotype/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app';\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/firefly/git/pianotype/pianotype/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms' ;\nimport { NgModule } from '@angular/core';\n\n//components\nimport { AppComponent } from './app.component';\nimport { SongTextDisplayComponent } from './song-text-display/song-text-display.component';\n\n//services\nimport { HttpModule, Http } from '@angular/http';\nimport { PlayNotesService } from './services/playnotes.service';\nimport { LoadMusicXmlService } from './services/load-music-xml.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SongTextDisplayComponent,\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    FormsModule\n  ],\n  providers: [\n  \tPlayNotesService,\n    LoadMusicXmlService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/firefly/git/pianotype/pianotype/src/app/app.module.ts","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class SingleNote {\n\tnote:string;\n\tduration:number\n\t/*backup means this note must be played this \n\tmany divisions before it normally would be*/\n\tbackup:number;\n\ttranslatedKey:string;\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/firefly/git/pianotype/pianotype/src/app/datamodels/single-note.ts","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class XmlSong {\n\txml:string;\n\ttitle:string;\n\tauthor:string;\n\n\tconstructor(title, author, xml){\n\t\tthis.title = title;\n\t\tthis.author = author;\n\t\tthis.xml = xml;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// /Users/firefly/git/pianotype/pianotype/src/app/datamodels/xml-song.ts","import { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport 'rxjs/add/operator/toPromise';\n//datamodels\nimport { XmlSong } from '../datamodels/xml-song';\n//shared\nimport { CustomEventHandler } from '../shared/custom-event-handler';\nimport * as $ from 'jquery';\n\n@Injectable()\nexport class LoadMusicXmlService extends CustomEventHandler{\n\tprivate arrayOfSongs:XmlSong[];\n\tprivate songsUrl:string;\n\n\tconstructor(private http:Http) {\n\t\tsuper();\n\t\t/* set valid events in the CustomEventHandler */\n\t\t//TODO: move hardcoded event strings to config file or class\n\t\tthis.setEvents(['song loaded']);\n\t\tthis.arrayOfSongs = [];\n\t\tthis.songsUrl = 'assets/music/';\n\t}\n\n\tgetSong(title:string, author:string) {\n\t\treturn this.arrayOfSongs.filter((element)=>{\n\t\t\treturn (element.title == title && element.author == author);\n\t\t});\n  \t}\n\n\tloadSong(fileName:string, callback?:(loadedSong)=>void){\n\t\tthis.http\t.get(this.songsUrl+fileName+'.xml')\n\t\t\t\t\t.toPromise()\n\t\t\t\t\t.then((response:Response)=>{\n\t\t\t\t\t\tlet body:string = response.text();\n\t\t\t\t\t\tlet xmlSongDom = $.parseXML(body);\n\t\t\t\t\t\tlet xmlCredits:NodeListOf<Element> = xmlSongDom.getElementsByTagName('credit');\n\t\t\t\t\t\tlet lastCreditIndex:number = xmlCredits.length - 1;\n\t\t\t\t\t\tlet xmlSong:XmlSong;\n\t\t\t\t\t\t/*if (xmlCredits.length > 0) {\n\t\t\t\t\t\t\t//TODO: Check for nulls\n\t\t\t\t\t\t\txmlSong = new XmlSong\n  \t\t\t\t\t\t\t(\txmlCredits[0].textContent as string,\n  \t\t\t\t\t\t\t\txmlCredits[lastCreditIndex].textContent as string,\n  \t\t\t\t\t\t\t\tbody\n  \t\t\t\t\t\t\t);\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\txmlSong = new XmlSong('unknown', 'unknown', body);\n\t\t\t\t\t\t}*/\n\n\t\t\t\t\t\txmlSong = new XmlSong('moon', 'bet', body);\n\n\t\t\t\t\t\tthis.arrayOfSongs.push(xmlSong);\n\t\t\t\t\t\t//console.log(this.arrayOfSongs);\n\t\t\t\t\t\tcallback(xmlSong);\n\t\t\t\t\t\tthis.emitEvent('song loaded');\n\t\t\t\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/firefly/git/pianotype/pianotype/src/app/services/load-music-xml.service.ts","import { Injectable } from '@angular/core';\nimport * as Tone from 'tone';\n\n\n@Injectable()\nexport class PlayNotesService {\n\t/* library for creating synth sounds */\n\tsynth:any;\n\n\tconstructor() {\n\t\tlet numberOfTones:number = 6;\n\t\tthis.synth = new Tone.PolySynth(numberOfTones, Tone.Synth).toMaster();//Look into dependency injection here\n\t\t\n\t}\n\n\tplayTone(note:string, duration:string):void{\n\t\tthis.synth.triggerAttackRelease(note, duration);\n\t}\n\n\tpressTone(note:string):void{\n\t\tthis.synth.triggerAttack(note);\n\t}\n\n\treleaseTone(note:string):void{\n\t\tthis.synth.triggerRelease(note);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// /Users/firefly/git/pianotype/pianotype/src/app/services/playnotes.service.ts","import { Injectable } from '@angular/core';\n/*\nextend this class to add custom events to a class\n*/\n@Injectable()\nexport class CustomEventHandler {\n\tprivate events:{};\n\n\tconstructor() {\n\t}\n\n\tsetEvents(validEventNames:string[]):void {\n\t\t/* Sets valid events that can be emitted or registered to */\n\t\tthis.events = {};\n\t\tvalidEventNames.map((eventName:string)=>{\n\t\t\tthis.events[eventName] = [];\n\t\t})\n\t}\n\n\tregisterCallback(eventName:string, callbackToRegister:()=>void):void {\n\t\t/* registers callbacks that will be called when eventName is fired*/\n\t\tif (typeof this.events[eventName] !== 'undefined') {\n\t\t\tthis.events[eventName].push(callbackToRegister);\n\t\t} else {\n\t\t\tthis.events[eventName] = [callbackToRegister];\n\t\t}\n\t}\n\n\temitEvent(eventName:string, eventData?):void {\n\t\t/* Call all events that are registered to eventName */\n\t\tif (this.events[eventName]) {\n\t\t\tif (typeof eventData === 'undefined') {\n\t\t\t\tthis.events[eventName].map((callback)=>{\n\t\t\t\t\tcallback();\n\t\t\t\t})\t\t\t\n\t\t\t} else {\n\t\t\t\tthis.events[eventName].map((callback)=>{\n\t\t\t\t\tcallback(eventData);\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/firefly/git/pianotype/pianotype/src/app/shared/custom-event-handler.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".translatedKey{\\n\\tdisplay: inline-block;\\n\\twidth:5%;\\n}\\n\\n.translatedKeyBox{\\n\\twidth:50%;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/firefly/git/pianotype/pianotype/src/app/song-text-display/song-text-display.component.css\n// module id = ../../../../../src/app/song-text-display/song-text-display.component.css\n// module chunks = main","module.exports = \"<select [(ngModel)]=\\\"selectedSongName\\\" (change)=\\\"selectSong()\\\">\\n\\t<option *ngFor=\\\"let\\tsongName of songNames\\\" value=\\\"{{songName}}\\\">\\n\\t\\t{{songName}}\\n\\t</option>\\n</select>\\n<div class=\\\"translatedKeyBox\\\">\\n\\t<div class=\\\"translatedKey\\\" *ngFor=\\\"let note of parsedSong\\\">\\n\\t\\t{{note.translatedKey}}\\n\\t</div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/firefly/git/pianotype/pianotype/src/app/song-text-display/song-text-display.component.html\n// module id = ../../../../../src/app/song-text-display/song-text-display.component.html\n// module chunks = main","import { Component, OnInit, HostListener} from '@angular/core';\n//services\nimport { PlayNotesService } from '../services/playnotes.service';\nimport { LoadMusicXmlService } from '../services/load-music-xml.service';\n//data models\nimport { XmlSong } from '../datamodels/xml-song';\nimport { SingleNote } from '../datamodels/single-note';\n\n/*TODO: modularize this class*/\n@Component({\n  selector: 'app-song-text-display',\n  templateUrl: './song-text-display.component.html',\n  styleUrls: ['./song-text-display.component.css']\n})\nexport class SongTextDisplayComponent implements OnInit {\n\tkeyToNoteMap:any;\n\tnoteToKeyMap:any;\n\txmlSong:XmlSong;\n\tparsedSong:SingleNote[];\n\tsongNames:string[] = ['amazing grace', 'Sonata No 1 Movement 1', 'moon light sonata', 'ill be there', 'jingle bells', 'yankee doodle', 'amazing grace', 'twinkle twinkle', 'happy birthday', 'fur elise']\n\tselectedSongName:string = this.songNames[0];\n\n\tconstructor(\n\t\tprivate playNotesService:PlayNotesService,\n\t\tprivate loadMusicXml:LoadMusicXmlService,\n\t) {\n\t}\n\n\tgenerateKeyToNoteMap(noteToSetToLetter:string, letterToSetToNote:string):any {\n\t\t/* \n\t\t\tpick a note that a letter will be mapped to. \n\t\t\tThe rest of the mappings will be generated \n\t\t*/\n\t\tlet keyboardOrder:string = 'qwertyuiopasdfghjkl;\\'zxcvbnm,./';\n\t\tlet noteOrder:string[] = [\t\"C0\", \"D0\", \"E0\", \"F0\", \"G0\", \"A0\", \"B0\",  \n\t\t\t\t\t\t\t\t\t\"C1\", \"D1\", \"E1\", \"F1\", \"G1\", \"A1\", \"B1\",\n\t\t\t\t\t\t\t\t\t\"C2\", \"D2\", \"E2\", \"F2\", \"G2\", \"A2\", \"B2\",\n\t\t\t\t\t\t\t\t\t\"C3\", \"D3\", \"E3\", \"F3\", \"G3\", \"A3\", \"B3\",\n\t\t\t\t\t\t\t\t\t\"C4\", \"D4\", \"E4\", \"F4\", \"G4\", \"A4\", \"B4\",\n\t\t\t\t\t\t\t\t\t\"C5\", \"D5\", \"E5\", \"F5\", \"G5\", \"A5\", \"B5\",\n\t\t\t\t\t\t\t\t\t\"C6\", \"D6\", \"E6\", \"F6\", \"G6\", \"A6\", \"B6\",\n\t\t\t\t\t\t\t\t\t\"C7\", \"D7\", \"E7\", \"F7\", \"G7\", \"A7\", \"B7\",\n\t\t\t\t\t\t\t\t\t\"C8\", \"D8\", \"E8\", \"F8\", \"G8\", \"A8\", \"B8\", \n\t\t\t\t\t\t\t\t\t\"C9\", \"D9\", \"E9\", \"F9\", \"G9\", \"A9\", \"B9\"]\n\t\tlet noteIndex:number = noteOrder.indexOf(noteToSetToLetter);\n\t\tlet letterIndex:number = keyboardOrder.search(letterToSetToNote);\n\t\tlet noteLetterDifference:number = noteIndex - letterIndex;\n\n\t\tlet outputMap = {};\n\t\tlet currentLetter:string;\n\t\tlet currentNote:string;\n\t\tfor(let i=0;i<keyboardOrder.length;i++){\n\t\t\tcurrentLetter = keyboardOrder[i];\n\t\t\tcurrentNote = noteOrder[(i + noteLetterDifference)%noteOrder.length]\n\t\t\toutputMap[currentLetter] = currentNote;\n\t\t\toutputMap[currentNote] = currentLetter;\n\t\t}\n\t\treturn outputMap;\n\t}\n\n\tdisplayKeyToNoteMap(keyToNotemap) {\n\t\tlet keyboardOrder:string[] = 'qwertyuiopasdfghjkl;\\'zxcvbnm,./'.split('');\n\t\tlet output:string = '';\n\t\tkeyboardOrder.map((key)=>{\n\t\t\toutput += key + ': ' + keyToNotemap[key] + '\\n';\n\t\t});\n\t\treturn output;\n\t}\n\n\tngOnInit() {\n\t\tthis.keyToNoteMap = this.generateKeyToNoteMap('C4', 'g');\n\t\tconsole.log(this.keyToNoteMap);\n\t\tthis.selectSong();\n\t\tsetTimeout(()=>{console.log(this.selectedSongName)},10000)\n\t}\n\n\tselectSong() {\n\t\tthis.loadMusicXml.loadSong(this.selectedSongName,(xmlSong)=>{\n\t\t\tthis.xmlSong = xmlSong;\n\t\t\tthis.parsedSong = this.parseSong(xmlSong);\n\t\t\tthis.parsedSong = this.parsedSong.filter((note)=>{return note.backup==0});\n\t\t})\n\t}\n\n\t/*TODO: move all parsing to external class*/\n\tparseSong(xmlSong?:XmlSong):SingleNote[]{\n\t\tlet xmlSongDom = $.parseXML(xmlSong?xmlSong.xml:this.xmlSong.xml);\n\t\tlet measures:NodeListOf<Element> = xmlSongDom.getElementsByTagName('measure');\n\t\tlet outputNotes:SingleNote[] = [];\n\t\tfor(let i=0;i<measures.length;i++) {\n\t\t\tthis.parseMeasure(measures[i], Object(outputNotes));\n\t\t}\n\t\tthis.translateSongNotesToKeys(outputNotes);\n\t\treturn outputNotes;\n\n\t}\n\n\tparseMeasure(measure:Element, arrayToAddNotesTo:SingleNote[]):void {\n\t\t//TODO: look into unmarshalling this xml\n\t\tlet divisionsNode = measure.getElementsByTagName('divisions');\n\t\tlet divisions:number;\n\t\tdivisions = divisionsNode.length>0?parseInt(divisionsNode[0].textContent):null;\n\n\t\tlet noteNodes:NodeList = measure.childNodes;\n\t\tlet nodeName:string;\n\t\tlet backup:number = 0;\n\t\tfor (let i=0;i<noteNodes.length;i++){\n\t\t\tnodeName = noteNodes[i].nodeName;\n\t\t\tif (nodeName === 'note') {\n\t\t\t\tthis.parseNote(noteNodes[i], backup, Object(arrayToAddNotesTo));\n\t\t\t} else if (nodeName === 'backup') {\n\t\t\t\tbackup += parseInt(noteNodes[i].textContent);\n\t\t\t}\n\t\t}\n\t}\n\n\tparseNote(note, divisionsToBackup:number, arrayToAddNotesTo:SingleNote[]){\n\t\tlet pitchElements:NodeListOf<Element> = note.getElementsByTagName('pitch');\n\t\tlet restElements:NodeListOf<Element> = note.getElementsByTagName('rest');\n\t\tlet durationElements:NodeListOf<Element> = note.getElementsByTagName('duration');\n\t\tlet duration:number = durationElements.length>0?parseInt(durationElements[0].textContent):null;\n\t\tlet pitch:string = 'rest';\n\t\tlet parsedNote:SingleNote = new SingleNote();\n\t\tif (pitchElements.length > 0) {\n\t\t\tpitch = pitchElements[0].getElementsByTagName('step')[0].textContent;\n\t\t\tpitch += pitchElements[0].getElementsByTagName('octave')[0].textContent;\n\t\t\tpitch = pitch.replace(/\\s/g,'');\n\t\t} else if (restElements.length > 0) {\n\t\t\tpitch = 'RE';\n\t\t}\n\n\t\tparsedNote.note = pitch;\n\t\tparsedNote.duration = duration;\n\t\tparsedNote.backup = divisionsToBackup;\n\t\tarrayToAddNotesTo.push(parsedNote);\n\t}\n\n\ttranslateSongNotesToKeys(songNotes:SingleNote[]){\n\t\tsongNotes.map((note:SingleNote)=>{\n\t\t\tnote.translatedKey = this.keyToNoteMap[note.note];\n\t\t});\n\t}\n\n\tplaySong(songNotes?:SingleNote[]){\n\t\tsongNotes = songNotes?songNotes:this.parsedSong;\n\n\t\tconsole.log('playing song');\n\t\tsongNotes.map((note:SingleNote)=>{\n\t\t\t//this.notes\n\t\t});\n\n\t}\n\n\t@HostListener('document:keydown', ['$event'])\n\thandleKeyUp(event: KeyboardEvent) {\n\t\tif (!event.repeat) {\n\t\t\tthis.playNotesService.pressTone(this.keyToNoteMap[event.key]);\n\t\t}\n\t}\n\n\t@HostListener('document:keyup', ['$event'])\n\thandleKeyDown(event: KeyboardEvent) {\n\t\tthis.playNotesService.releaseTone(this.keyToNoteMap[event.key]);\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/firefly/git/pianotype/pianotype/src/app/song-text-display/song-text-display.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/firefly/git/pianotype/pianotype/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /Users/firefly/git/pianotype/pianotype/src/main.ts"],"sourceRoot":"webpack:///"}